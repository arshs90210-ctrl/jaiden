<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>McLaren F1 // Glass 97 OS</title>
<style>
    /* --- CORE VARIABLES & RESET --- */
    :root {
        --mclaren-papaya: #FF8000;
        --mclaren-blue: #47C7FC;
        --mclaren-black: #101010;
        --glass-bg: rgba(255, 255, 255, 0.05);
        --glass-border: rgba(255, 255, 255, 0.2);
        --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        --retro-gray: #c0c0c0;
        --retro-light: #ffffff;
        --retro-dark: #808080;
        --crt-scanline: rgba(0, 0, 0, 0.1);
        --font-ui: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        --font-mono: 'Courier New', Courier, monospace;
    }

    * { box-sizing: border-box; user-select: none; }
    
    body {
        margin: 0;
        height: 100vh;
        width: 100vw;
        overflow: hidden;
        background: radial-gradient(circle at 50% 50%, #222, #000);
        font-family: var(--font-ui);
        color: white;
    }

    /* --- CRT & LIQUID EFFECTS --- */
    .liquid-bg {
        position: absolute;
        top: -50%; left: -50%; width: 200%; height: 200%;
        background: linear-gradient(45deg, transparent 40%, var(--mclaren-papaya) 50%, transparent 60%);
        opacity: 0.1;
        animation: liquidFlow 15s infinite linear;
        pointer-events: none;
        z-index: 0;
    }

    .crt-overlay {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 9999;
    }

    @keyframes liquidFlow {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* --- DESKTOP UI --- */
    #desktop {
        position: relative;
        width: 100%;
        height: calc(100% - 40px);
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 20px;
        z-index: 1;
    }

    .desktop-icon {
        width: 80px;
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        text-align: center;
        transition: transform 0.2s;
        text-shadow: 0 2px 4px black;
    }

    .desktop-icon:hover { transform: scale(1.1); }
    
    .icon-img {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, var(--glass-border), transparent);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        margin-bottom: 5px;
        display: grid;
        place-items: center;
        font-size: 24px;
        box-shadow: 0 0 15px var(--mclaren-papaya);
    }

    /* --- WINDOW SYSTEM (The "Glass 97" Aesthetic) --- */
    .window {
        position: absolute;
        background: rgba(20, 20, 20, 0.6);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        box-shadow: var(--glass-shadow);
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        min-width: 300px;
        min-height: 200px;
        resize: both;
        overflow: hidden;
        transition: opacity 0.2s, transform 0.2s;
        animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
    }

    .title-bar {
        height: 32px;
        background: linear-gradient(90deg, rgba(255,255,255,0.1), transparent);
        border-bottom: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 10px;
        cursor: grab;
        user-select: none;
    }

    .title-bar:active { cursor: grabbing; }

    .title-text {
        font-weight: bold;
        font-size: 14px;
        color: var(--mclaren-papaya);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .window-controls { display: flex; gap: 8px; }

    .win-btn {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        border: 1px solid rgba(255,255,255,0.3);
        cursor: pointer;
    }
    .btn-close { background: #ff5f56; }
    .btn-min { background: #ffbd2e; }
    .btn-max { background: #27c93f; }

    .window-content {
        flex: 1;
        overflow-y: auto;
        padding: 15px;
        color: #eee;
        font-family: var(--font-mono);
        font-size: 14px;
        /* Scrollbar styling */
        scrollbar-width: thin;
        scrollbar-color: var(--mclaren-papaya) rgba(0,0,0,0.3);
    }

    /* --- COMPONENT STYLES --- */
    .specs-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }

    .spec-card {
        background: rgba(0,0,0,0.4);
        border: 1px solid var(--glass-border);
        padding: 10px;
        border-radius: 4px;
    }
    .spec-label { color: var(--mclaren-blue); font-size: 10px; text-transform: uppercase; }
    .spec-value { font-size: 18px; color: white; }

    .team-list { display: flex; flex-direction: column; gap: 10px; }
    .driver-row {
        display: flex;
        align-items: center;
        background: rgba(255,255,255,0.05);
        padding: 10px;
        border-radius: 4px;
        transition: background 0.2s;
    }
    .driver-row:hover { background: rgba(255,128,0,0.2); }
    .driver-num { font-size: 24px; font-weight: bold; color: var(--mclaren-papaya); margin-right: 15px; }

    .history-timeline { border-left: 2px solid var(--mclaren-blue); padding-left: 20px; }
    .history-item { margin-bottom: 20px; position: relative; }
    .history-item::before {
        content: ''; position: absolute; left: -26px; top: 5px;
        width: 10px; height: 10px; background: var(--mclaren-papaya); border-radius: 50%;
    }

    /* --- TASKBAR --- */
    #taskbar {
        position: absolute;
        bottom: 0; left: 0; width: 100%; height: 40px;
        background: rgba(16, 16, 16, 0.8);
        backdrop-filter: blur(10px);
        border-top: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        padding: 0 10px;
        z-index: 1000;
    }
    
    .start-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        background: linear-gradient(180deg, #333, #111);
        border: 1px solid #555;
        padding: 4px 12px;
        color: white;
        font-weight: bold;
        font-style: italic;
        box-shadow: inset 1px 1px 0 rgba(255,255,255,0.2);
        cursor: pointer;
    }

    .task-time { margin-left: auto; font-family: var(--font-mono); }

    /* Utilities */
    .hidden { display: none !important; }
    .w-full { width: 100%; }
    h2 { border-bottom: 1px solid var(--mclaren-papaya); padding-bottom: 5px; margin-top: 0; }
</style>
</head>
<body>

    <div class="liquid-bg"></div>
    <div class="crt-overlay"></div>

    <div id="desktop">
        </div>

    <div id="taskbar">
        <button class="start-btn" onclick="toggleStartMenu()">
            <span style="color:var(--mclaren-papaya)">///</span> START
        </button>
        <div id="active-tasks" style="display:flex; gap:10px; margin-left:15px;"></div>
        <div class="task-time" id="clock">12:00 PM</div>
    </div>

<script>
    // --- DATA STORE ---
    const appData = {
        'specs': {
            title: 'MCL38 // TECHNICAL SPECS',
            icon: '‚öôÔ∏è',
            content: `
                <h2>MCL38 Technical Data</h2>
                <div class="specs-grid">
                    <div class="spec-card">
                        <div class="spec-label">Chassis</div>
                        <div class="spec-value">Carbon Fibre Monocoque</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-label">Power Unit</div>
                        <div class="spec-value">Mercedes-AMG F1 M15</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-label">Weight</div>
                        <div class="spec-value">798 kg (min)</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-label">Transmission</div>
                        <div class="spec-value">McLaren 8-Speed</div>
                    </div>
                </div>
                <br>
                <h3>Aerodynamics</h3>
                <p>Features an advanced ground-effect floor, redesigned sidepod inlets for maximum cooling efficiency, and an adaptive drag reduction system (DRS).</p>
                <div style="margin-top:10px; height: 100px; background: rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; border:1px dashed #555;">
                    [ 3D MODEL PLACEHOLDER: MCL38_AERO.GLB ]
                </div>
            `
        },
        'team': {
            title: 'TEAM PERSONNEL',
            icon: 'üèéÔ∏è',
            content: `
                <h2>Drivers</h2>
                <div class="team-list">
                    <div class="driver-row">
                        <div class="driver-num">4</div>
                        <div>
                            <strong>Lando Norris</strong><br>
                            <span style="font-size:12px; color:#aaa;">United Kingdom</span>
                        </div>
                    </div>
                    <div class="driver-row">
                        <div class="driver-num">81</div>
                        <div>
                            <strong>Oscar Piastri</strong><br>
                            <span style="font-size:12px; color:#aaa;">Australia</span>
                        </div>
                    </div>
                </div>
                <br>
                <h2>Management</h2>
                <p><strong>Andrea Stella</strong> - Team Principal</p>
                <p><strong>Zak Brown</strong> - CEO Racing</p>
            `
        },
        'history': {
            title: 'HISTORIC ARCHIVE',
            icon: 'üìú',
            content: `
                <h2>Legacy & Heritage</h2>
                <div class="history-timeline">
                    <div class="history-item">
                        <strong>1963</strong> - Founded by Bruce McLaren.
                    </div>
                    <div class="history-item">
                        <strong>1988 - MP4/4</strong>
                        <p style="font-size:12px; margin:5px 0;">Dominance defined. Senna & Prost. 15 of 16 wins.</p>
                        <div class="spec-card" style="font-size:12px;">Engine: Honda RA168E V6 Turbo</div>
                    </div>
                    <div class="history-item">
                        <strong>1995 - F1 GTR</strong>
                        <p style="font-size:12px;">Le Mans Victory on debut.</p>
                    </div>
                    <div class="history-item">
                        <strong>2008 - MP4-23</strong>
                        <p style="font-size:12px;">Lewis Hamilton wins first Driver's Championship.</p>
                    </div>
                </div>
            `
        },
        'telemetry': {
            title: 'LIVE TELEMETRY',
            icon: 'üìà',
            content: `
                <h2>Simulation Mode</h2>
                <canvas id="telemetryCanvas" width="300" height="150" style="background:#000; border:1px solid #333;"></canvas>
                <p style="font-size:10px; color:var(--mclaren-papaya);">*LIVE STREAM SIMULATION ACTIVE</p>
            `
        }
    };

    // --- OS CORE LOGIC ---
    let zIndexCounter = 10;
    const desktop = document.getElementById('desktop');
    const taskbarTasks = document.getElementById('active-tasks');

    // 1. Initialize Desktop Icons
    Object.keys(appData).forEach(key => {
        const iconDiv = document.createElement('div');
        iconDiv.className = 'desktop-icon';
        iconDiv.innerHTML = `
            <div class="icon-img">${appData[key].icon}</div>
            <span style="font-size:12px;">${key.toUpperCase()}</span>
        `;
        iconDiv.onclick = () => openWindow(key);
        desktop.appendChild(iconDiv);
    });

    // 2. Window Factory
    function openWindow(appKey) {
        // Check if window exists
        if(document.getElementById(`win-${appKey}`)) {
            const win = document.getElementById(`win-${appKey}`);
            bringToFront(win);
            return;
        }

        const data = appData[appKey];
        const win = document.createElement('div');
        win.id = `win-${appKey}`;
        win.className = 'window';
        win.style.left = (50 + (zIndexCounter * 5)) + 'px'; // Cascade effect
        win.style.top = (50 + (zIndexCounter * 5)) + 'px';
        win.style.zIndex = ++zIndexCounter;
        
        // Initial dimensions
        win.style.width = '400px';
        win.style.height = '500px';

        win.innerHTML = `
            <div class="title-bar" onmousedown="startDrag(event, '${win.id}')">
                <div class="title-text">${data.title}</div>
                <div class="window-controls">
                    <div class="win-btn btn-min" onclick="minimizeWindow('${win.id}')"></div>
                    <div class="win-btn btn-max"></div>
                    <div class="win-btn btn-close" onclick="closeWindow('${win.id}')"></div>
                </div>
            </div>
            <div class="window-content">
                ${data.content}
            </div>
        `;

        // Add to desktop
        desktop.appendChild(win);
        
        // Add to taskbar
        addTaskbarItem(appKey, win.id);

        // Bring to front on click
        win.onmousedown = () => bringToFront(win);

        // Init Canvas if telemetry
        if(appKey === 'telemetry') initTelemetry();
    }

    function closeWindow(id) {
        const win = document.getElementById(id);
        if(win) win.remove();
        // Remove taskbar item
        const appKey = id.replace('win-', '');
        const taskItem = document.getElementById(`task-${appKey}`);
        if(taskItem) taskItem.remove();
    }

    function minimizeWindow(id) {
        const win = document.getElementById(id);
        win.classList.add('hidden');
    }

    function bringToFront(win) {
        win.style.zIndex = ++zIndexCounter;
        win.classList.remove('hidden');
    }

    // 3. Taskbar Logic
    function addTaskbarItem(appKey, winId) {
        const item = document.createElement('div');
        item.id = `task-${appKey}`;
        item.style.padding = '4px 8px';
        item.style.background = 'rgba(255,255,255,0.1)';
        item.style.border = '1px solid rgba(255,255,255,0.2)';
        item.style.fontSize = '12px';
        item.style.cursor = 'pointer';
        item.innerText = appData[appKey].title;
        item.onclick = () => {
            const win = document.getElementById(winId);
            if(win.classList.contains('hidden')) {
                bringToFront(win);
            } else {
                minimizeWindow(winId);
            }
        };
        taskbarTasks.appendChild(item);
    }

    // 4. Drag Logic
    let isDragging = false;
    let currentWin = null;
    let offset = { x: 0, y: 0 };

    function startDrag(e, winId) {
        isDragging = true;
        currentWin = document.getElementById(winId);
        bringToFront(currentWin);
        offset.x = e.clientX - currentWin.offsetLeft;
        offset.y = e.clientY - currentWin.offsetTop;
    }

    document.onmousemove = function(e) {
        if (!isDragging) return;
        currentWin.style.left = (e.clientX - offset.x) + 'px';
        currentWin.style.top = (e.clientY - offset.y) + 'px';
    };

    document.onmouseup = function() {
        isDragging = false;
        currentWin = null;
    };

    // 5. Clock
    setInterval(() => {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
    }, 1000);

    // 6. Telemetry Animation (Canvas)
    function initTelemetry() {
        const canvas = document.getElementById('telemetryCanvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        let dataPoints = [];
        
        function draw() {
            if(!document.getElementById('telemetryCanvas')) return; // Stop if window closed
            
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            dataPoints.push(Math.random() * 50 + 50);
            if(dataPoints.length > canvas.width) dataPoints.shift();
            
            ctx.beginPath();
            ctx.strokeStyle = '#FF8000';
            ctx.lineWidth = 2;
            for(let i = 0; i < dataPoints.length; i++) {
                ctx.lineTo(i, canvas.height - dataPoints[i]);
            }
            ctx.stroke();
            requestAnimationFrame(draw);
        }
        draw();
    }
</script>
</body>
</html>
